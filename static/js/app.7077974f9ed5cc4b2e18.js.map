{"version":3,"sources":["webpack:///./src/api/auth.js","webpack:///./src/store/modules/auth.js","webpack:///./src/store/index.js","webpack:///./src/store/modules/blog.js","webpack:///./src/router/index.js","webpack:///./src/helpers/util.js","webpack:///src/components/header.vue","webpack:///./src/components/header.vue?1e23","webpack:///./src/components/header.vue","webpack:///./src/components/footer.vue?1153","webpack:///./src/components/footer.vue","webpack:///src/App.vue","webpack:///./src/App.vue?5bc2","webpack:///./src/App.vue","webpack:///./src/main.js","webpack:///./src/helpers/request.js"],"names":["URL","auth","register","_ref","username","password","request","login","_ref2","logout","localStorage","removeItem","getInfo","console","log","token","modules_auth","state","user","isLogin","getters","mutations","setUser","payload","setLogin","actions","commit","then","res","data","_ref3","_ref4","_this","this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","sent","abrupt","stop","_ref5","_this2","_callee2","_context2","checkLogin","_ref6","_this3","_callee3","_context3","Vue","use","Vuex","store","Store","modules","blog","window","Router","router","routes","path","component","Promise","all","__webpack_require__","e","bind","meta","requiresAuth","beforeEach","to","from","matched","some","record","dispatch","catch","err","Message","error","query","redirect","fullPath","friendlyDate","dateStr","time","typeof_default","Date","getTime","space","str","Math","floor","util","install","options","prototype","api_auth","header","computed","extends_default","Object","vuex_esm","created","methods","onLogout","$router","push","element_ui_common","success","components_header","render","_vm","_h","$createElement","_c","_self","class","no-login","_e","staticClass","attrs","_v","title","src","avatar","alt","href","on","click","staticRenderFns","footer","_m","App","name","components","Header","normalizeComponent","ssrContext","Footer","footer_normalizeComponent","selectortype_template_index_0_src_App","id","src_App","App_normalizeComponent","Util","ElementUI","config","productionTip","el","template","url","type","arguments","length","undefined","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_core_js_promise___default","resolve","reject","option","method","toLowerCase","params","axios","defaults","headers","common","status","msg","post","baseURL"],"mappings":"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","file":"static/js/app.7077974f9ed5cc4b2e18.js","sourcesContent":["import request from '@/helpers/request'\n\nconst URL = {\n  REGISTER: '/auth/register',\n  LOGIN: '/auth/login',\n  LOGOUT: '/auth/logout',\n  GET_INFO: '/auth'\n}\n\n const auth = {\n  register({username, password}) {\n    return request(URL.REGISTER, 'POST', { username, password })\n  },\n\n  login({username, password}) {\n    return request(URL.LOGIN, 'POST', { username, password })\n  },\n\n   logout() {\n\n    localStorage.removeItem('token')\n    return request(URL.LOGOUT)\n  },\n\n   getInfo() {\n     console.log(localStorage.token);\n    if (localStorage.token) {\n       return request(URL.GET_INFO, 'GET')\n     } else {\n       return null\n    }\n    // return request(URL.GET_INFO, 'GET')\n  }\n}\n\nexport default auth\n\n\n// WEBPACK FOOTER //\n// ./src/api/auth.js","import auth from '@/api/auth'\n\nconst state = {\n  user: null,\n  isLogin: false\n}\n\nconst getters = {\n  user: state => state.user,\n  isLogin: state => state.isLogin\n}\n\nconst mutations = {\n  setUser(state, payload) {\n    state.user = payload.user\n  },\n\n  setLogin(state, payload) {\n    state.isLogin = payload.isLogin\n  }\n}\n\nconst actions = {\n  login({ commit }, { username, password }) {\n    return auth.login({ username, password })\n      .then(res => {\n        commit('setUser', { user: res.data })\n        commit('setLogin', { isLogin: true })\n      })\n  },\n\n  async register({ commit }, { username, password }) {\n    let res = await auth.register({ username, password })\n    commit('setUser', { user: res.data })\n    commit('setLogin', { isLogin: true })\n    return res.data\n  },\n\n  async logout({ commit }) {\n    commit('setUser', { user: null })\n    commit('setLogin', { isLogin: false })\n    await auth.logout()\n    \n  },\n\n  async checkLogin({ commit, state}) {\n    if(state.isLogin) return true\n    let res = await auth.getInfo()\n    commit('setLogin', { isLogin: res.isLogin })\n    if(!res.isLogin) return false\n    commit('setUser', { user: res.data })\n    return true\n  }\n\n\n}\n\nexport default {\n  state,\n  getters,\n  mutations,\n  actions\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/auth.js","import Vue from 'vue'\nimport Vuex from 'vuex'\nimport auth from './modules/auth'\nimport blog from './modules/blog'\n\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  modules: {\n    auth,\n    blog\n  }\n})\n\n\n// WEBPACK FOOTER //\n// ./src/store/index.js","\nexport default {\n  state: {},\n  getters: {},\n  mutations: {},\n  actions: {}\n}\n\n\n// WEBPACK FOOTER //\n// ./src/store/modules/blog.js","import Vue from 'vue'\nimport Router from 'vue-router'\nimport { Message } from 'element-ui';\nimport  auth  from '@/api/auth';\nimport store from '../store'\nwindow.store = store\n\nVue.use(Router)\n\nconst router =  new Router({\n  routes: [\n    {\n      path: '/',\n      component: () => import('@/pages/Index/template.vue')\n    },\n    {\n      path: '/login',\n      component: () => import('@/pages/Login/template.vue')\n    },\n    {\n      path: '/detail/:blogId',\n      component: () => import('@/pages/Detail/template.vue'),\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/edit/:blogId',\n      component: () => import('@/pages/Edit/template.vue'),\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/create',\n      component: () => import('@/pages/Create/template.vue'),\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/user/:userId',\n      component: () => import('@/pages/User/template.vue')\n    },\n    {\n      path: '/my',\n      component: () => import('@/pages/My/template.vue'),\n      meta: { requiresAuth: true }\n    },\n    {\n      path: '/register',\n      component: () => import('@/pages/Register/template.vue')\n    },\n    \n\n\n  ]\n})\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    store.dispatch('checkLogin').then(isLogin => {\n      if (isLogin) {\n         next()\n      }\n    }).catch(err => {\n      Message.error('请先登录')\n      next({\n          path: '/login',\n          query: { redirect: to.fullPath }\n      })\n    })\n  } else {\n    next() // 确保一定要调用 next()\n  }\n})\n\nexport default router\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/router/index.js","function friendlyDate(dateStr) {\n  let dateObj = typeof dateStr === 'object' ? dateStr : new Date(dateStr) //dateStr必须是对象\n  //参数转换成毫秒\n  let time = dateObj.getTime()\n  //当前时间转换成毫秒\n  let now = new Date().getTime() //new Date().getTime() === Date.now()\n  //计算两者时间间隔\n  let space = now - time\n  //最终显示\n  let str = ''\n  switch (true) {\n    case space < 60000 : //小于1分钟\n        str = '刚刚'\n      break;\n    case space < 3600*1000 : //小于1小时\n        str = Math.floor(space/60000)+'分钟前'\n      break;\n    case space < 24*3600*1000 : //小于1天\n        str = Math.floor(space/(3600*1000))+'小时前'\n      break;\n    default: //其他情况\n        str = Math.floor(space/(24*3600*1000))+'天前'\n      break;\n  }\n  return str\n\n}\nexport default {\n  install(Vue, options) {\n    Vue.prototype.friendlyDate = friendlyDate\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/util.js","<template>\n  <header :class=\"{login: isLogin, 'no-login': !isLogin}\">\n\n    <template v-if=\"!isLogin\" class=\"nav1\">\n      <router-link to=\"/\" class=\"title\">Multiplayer Blog</router-link>\n      <p>The future of blog is multi person blog</p>\n      <div class=\"btns\">\n        <router-link to=\"/login\"><el-button ><b>立即登录</b></el-button></router-link>\n        <router-link to=\"/register\"><el-button><b>注册账号</b></el-button></router-link>\n      </div> \n    </template>\n\n    <template v-if=\"isLogin\" class=\"nav2\">\n      <h1 class=\"title\"><router-link to=\"/\" >Multiplayer Blog</router-link></h1>\n      <router-link to=\"/create\" class=\"edit\"><i class=\"el-icon-edit\" title=\"创建博客\"></i>写文章</router-link>\n      <div class=\"user\">\n        <img class=\"avatar\" :src=\"user.avatar\" :alt=\"user.username\" :title=\"user.username\">\n        <ul>\n          <li><router-link to=\"/my\">我的主页</router-link></li>\n          <li><router-link to=\"/login\">切换用户</router-link></li>\n          <li><a href=\"#\" @click=\"onLogout\">退出</a></li>\n        </ul>\n      </div>         \n    </template>\n\n  </header>\n</template>\n\n<script>\n  import { Message } from 'element-ui';\n  import auth from '@/api/auth'\n  window.auth = auth\n  import { mapGetters, mapActions } from 'vuex'\n\n  export default {\n    data() {\n      return {}\n    },\n\n    computed: {\n      ...mapGetters([\n        'isLogin',\n        'user'\n        ])\n    },\n\n    created() {\n      this.checkLogin()\n    },\n\n    methods: {\n      ...mapActions([\n        'checkLogin',\n        'logout'\n        ]),\n\n      onLogout() {\n         this.logout().then(() => {\n          this.$router.push('/')\n            Message.success('注销成功')\n        })\n      }\n       \n        \n     \n    }\n\n  }\n</script>\n\n\n<style lang=\"less\">\n@import \"../assets/base.less\";  \n\n//总容器：未登录\nheader.no-login {\n  padding: 0 12% 30px 12%;\n  background: @bgColor;\n  display: grid;\n  justify-items: center;\n  box-shadow:0 0 1px rgba(0,0,0,.21);\n  //大标题\n  .title {\n    color: #fff;\n    font-size: 70px;\n    margin: 60px 0 0 0;\n    text-transform: uppercase;\n    font-weight:900;\n  }\n  //小标题\n  p {\n    margin: 15px 0 0 0;\n    color: #fff;\n    font-size: 20px;\n    font-family:'initial'\n  }\n  //登录注册\n  .btns {\n    margin-top: 20px;\n  }\n  //单个按钮\n  .el-button {\n    margin: 20px 5px 0;\n  }\n} \n\n//总容器：已登录\nheader.login {\n  display: flex;\n  align-items: center;\n  background: @bgColor;\n  //大标题\n  .title {\n    margin: 0;\n    padding: 0;\n    font-size: 40px;\n    text-transform: uppercase;\n    flex: 1;\n    a {\n      color: #fff;\n    }\n  }\n  //编辑\n  .edit {\n    text-align: center;\n    color: #333;\n    background: #fc0;\n    font-size:15px;\n    border-radius: 30px;\n    padding: 6px 12px;\n    font-family:-apple-system,SF UI Text,Arial,PingFang SC,Hiragino Sans GB,Microsoft YaHei,WenQuanYi Micro Hei,sans-serif;\n    font-weight: bold;\n    box-shadow:0 3px 10px rgba(0, 0, 0, 0.1);\n    >.el-icon-edit{\n      margin-right: 5px;\n    }\n  }\n  .edit:hover{\n    color: #333;\n    background: rgb(255, 166, 0);\n    \n\n  }\n\n  //用户信息\n  .user {\n    position: relative;\n    //头像\n    .avatar {\n      width: 40px;\n      height: 40px;\n      border: 2px solid #444;\n      border-radius: 50%;\n      margin-left: 15px;\n    }\n    //功能\n    ul {\n      // display: none;\n      width:100px;\n      position: absolute;\n      right: -30px;\n      list-style: none;\n      border:none;\n      margin:0;\n      padding: 0;\n      background-color: #fff;\n      border-radius: 5px;\n      text-align: center;\n\n      height: 0px;\n      overflow: hidden;\n      a {\n        text-decoration: none;\n        color: #333;\n        font-size: 12px;\n        display: block;\n        padding: 5px 10px;\n        &:hover {\n          background-color: #fc0;\n          border: none;\n          border-radius: 5px;\n          transition: all .5s;\n        }\n      }\n\n    }\n    &:hover ul {\n      display: block;\n      height: 87px;\n      transition: all .5s;\n    }\n  }\n}\n\n\n\n</style>\n\n\n// WEBPACK FOOTER //\n// src/components/header.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('header',{class:{login: _vm.isLogin, 'no-login': !_vm.isLogin}},[(!_vm.isLogin)?[_c('router-link',{staticClass:\"title\",attrs:{\"to\":\"/\"}},[_vm._v(\"Multiplayer Blog\")]),_vm._v(\" \"),_c('p',[_vm._v(\"The future of blog is multi person blog\")]),_vm._v(\" \"),_c('div',{staticClass:\"btns\"},[_c('router-link',{attrs:{\"to\":\"/login\"}},[_c('el-button',[_c('b',[_vm._v(\"立即登录\")])])],1),_vm._v(\" \"),_c('router-link',{attrs:{\"to\":\"/register\"}},[_c('el-button',[_c('b',[_vm._v(\"注册账号\")])])],1)],1)]:_vm._e(),_vm._v(\" \"),(_vm.isLogin)?[_c('h1',{staticClass:\"title\"},[_c('router-link',{attrs:{\"to\":\"/\"}},[_vm._v(\"Multiplayer Blog\")])],1),_vm._v(\" \"),_c('router-link',{staticClass:\"edit\",attrs:{\"to\":\"/create\"}},[_c('i',{staticClass:\"el-icon-edit\",attrs:{\"title\":\"创建博客\"}}),_vm._v(\"写文章\")]),_vm._v(\" \"),_c('div',{staticClass:\"user\"},[_c('img',{staticClass:\"avatar\",attrs:{\"src\":_vm.user.avatar,\"alt\":_vm.user.username,\"title\":_vm.user.username}}),_vm._v(\" \"),_c('ul',[_c('li',[_c('router-link',{attrs:{\"to\":\"/my\"}},[_vm._v(\"我的主页\")])],1),_vm._v(\" \"),_c('li',[_c('router-link',{attrs:{\"to\":\"/login\"}},[_vm._v(\"切换用户\")])],1),_vm._v(\" \"),_c('li',[_c('a',{attrs:{\"href\":\"#\"},on:{\"click\":_vm.onLogout}},[_vm._v(\"退出\")])])])])]:_vm._e()],2)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-f37da14c\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/header.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-f37da14c\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./header.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\nimport __vue_script__ from \"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./header.vue\"\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-f37da14c\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./header.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/header.vue\n// module id = null\n// module chunks = ","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('footer',[_c('p',[_vm._v(\"Copyright © GitHub 2021 | Powered by Jianan with Hux Theme\")])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-32232801\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/footer.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-32232801\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../node_modules/vue-loader/lib/selector?type=styles&index=0!./footer.vue\")\n}\nvar normalizeComponent = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nvar __vue_script__ = null\n/* template */\nimport __vue_template__ from \"!!../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-32232801\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../node_modules/vue-loader/lib/selector?type=template&index=0!./footer.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-32232801\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/footer.vue\n// module id = null\n// module chunks = ","<template>\n  <div id=\"app\">\n\n    <Header id=\"header\"></Header>\n    <main id=\"main\">\n      <router-view/>   \n    </main>\n    <Footer id=\"footer\"></Footer>\n     \n  </div>\n</template>\n\n\n<script>\n\nimport Header from '@/components/header'\nimport Footer from '@/components/footer'\n\nexport default {\n  name: 'App',\n  components: {\n    Header,\n    Footer\n  },\n \n}\n</script>\n\n<style lang=\"less\">\n\n@import \"./assets/common.less\";\n\n#app {\n \n  display: grid;\n  grid-template-columns: 12% auto 12%;\n  grid-template-rows: auto 1fr auto;\n  grid-template-areas: \"header header header\"\n                       \".      main  .\"\n                       \"footer footer footer\";\n  .top{\n    color: #fff;\n    position:fixed;right:0;bottom:0\n  }\n  #header {\n    grid-area: header;\n    padding-left: 12%;\n    padding-right: 12%;\n  }\n\n  #main {\n    grid-area: main;\n  }\n\n  #footer {\n    grid-area: footer;\n    padding-left: 12%;\n    padding-right: 12%;\n    // padding: 68px;\n    // padding-top:0;\n  }\n\n\n\n}\n\n@media (max-width: 768px) {\n  #app {\n    grid-template-columns: 10px auto 10px;\n\n    #header, #footer {\n      padding-left: 10px;\n      padding-right: 10px;\n    }\n  }\n\n}\n\n\n\n</style>\n\n\n\n// WEBPACK FOOTER //\n// src/App.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('Header',{attrs:{\"id\":\"header\"}}),_vm._v(\" \"),_c('main',{attrs:{\"id\":\"main\"}},[_c('router-view')],1),_vm._v(\" \"),_c('Footer',{attrs:{\"id\":\"footer\"}})],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-77986792\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/App.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-77986792\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../node_modules/vue-loader/lib/selector?type=styles&index=0!./App.vue\")\n}\nvar normalizeComponent = require(\"!../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\nimport __vue_script__ from \"!!babel-loader!../node_modules/vue-loader/lib/selector?type=script&index=0!./App.vue\"\n/* template */\nimport __vue_template__ from \"!!../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-77986792\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../node_modules/vue-loader/lib/selector?type=template&index=0!./App.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/App.vue\n// module id = null\n// module chunks = ","// The Vue build version to load with the `import` command\n// (runtime-only or standalone) has been set in webpack.base.conf with an alias.\nimport Vue from 'vue'\nimport router from './router'\nimport store from './store'\nimport ElementUI from 'element-ui'\nimport 'element-ui/lib/theme-chalk/index.css'\nimport Util from '@/helpers/util'\nimport App from './App'\n\nVue.use(Util)\nVue.use(ElementUI)\n\n\nVue.config.productionTip = false\n\n/* eslint-disable no-new */\nnew Vue({\n  el: '#app',\n  router,\n  store,\n  components: { App },\n  template: '<App/>'\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/main.js","import axios from 'axios'\nimport { Message } from 'element-ui'\n\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded'\naxios.defaults.baseURL = '//blog-server.hunger-valley.com'\n\n\nexport default function request(url, type = 'GET', data = {}) {\n  return new Promise((resolve, reject) => {\n    let option = {\n      url,\n      method: type,\n    }\n    if(type.toLowerCase() === 'get') {\n      option.params = data\n    }else {\n      option.data = data\n    }\n    if(localStorage.token) {\n      axios.defaults.headers.common['Authorization']  = localStorage.token\n    }\n \n    axios(option).then(res => {\n      console.log(res.data)\n      if(res.data.status === 'ok') {\n        if(res.data.token) {\n          localStorage.token = res.data.token\n        }\n        resolve(res.data)\n      }else{\n        // Message.error(res.data.msg)\n        reject(res.data)\n      }\n    }).catch(err => {\n      Message.error('网络异常')\n      reject({ msg: '网络异常' })\n    })\n  })\n}\n\n\n// request('/auth/login', 'POST', {username: 'hunger', password: '123456'})\n//   .then(data=>{\n//     console.log(data)\n//   })\n\n\n// WEBPACK FOOTER //\n// ./src/helpers/request.js"],"sourceRoot":""}