webpackJsonp([4],{OpX7:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s=t("Dd8w"),n=t.n(s),o=t("NYxO"),u=t("zL8q"),a={data:function(){var e=this;return{ruleForm:{pass:"",username:""},rules:{pass:[{validator:function(r,t,s){""===t?s(new Error("请输入密码")):t.length<6||t.length>16?s(new Error("长度为6~16个字符")):(""!==e.ruleForm.checkPass&&e.$refs.ruleForm.validateField("checkPass"),s())},trigger:"blur"}],username:[{validator:function(e,r,t){if(!r)return t(new Error("用户名不能为空"));setTimeout(function(){/\w/.test(r)?r.length<4||r.length>10?t(new Error("长度为4~10个字符")):t():t(new Error("只能是字母数字下划线"))},0)},trigger:"blur"}]}}},methods:n()({},Object(o.b)(["login"]),{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){e?r.login({username:r.ruleForm.username,password:r.ruleForm.pass}).then(function(){r.$router.push({path:r.$route.query.redirect||"/"}),u.Message.success("登录成功")}).catch(function(e){u.Message.error("登录失败")}):u.Message.error("用户名/密码输入错误")})}})},l={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{attrs:{id:"login"}},[t("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules}},[t("el-form-item",{attrs:{prop:"username"}},[t("h4",[e._v("用户名")]),e._v(" "),t("el-input",{attrs:{placeholder:"请输入用户名"},model:{value:e.ruleForm.username,callback:function(r){e.$set(e.ruleForm,"username",r)},expression:"ruleForm.username"}})],1),e._v(" "),t("el-form-item",{attrs:{prop:"pass"}},[t("h4",[e._v("密码")]),e._v(" "),t("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},nativeOn:{keyup:function(r){return!r.type.indexOf("key")&&e._k(r.keyCode,"enter",13,r.key,"Enter")?null:e.submitForm("ruleForm")}},model:{value:e.ruleForm.pass,callback:function(r){e.$set(e.ruleForm,"pass",r)},expression:"ruleForm.pass"}})],1),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:function(r){return e.submitForm("ruleForm")}}},[e._v("立即登录")]),e._v(" "),t("p",{staticClass:"notice"},[e._v("没有账号？"),t("router-link",{attrs:{to:"/register"}},[e._v("注册新用户")])],1)],1)],1)},staticRenderFns:[]};var i=t("VU/8")(a,l,!1,function(e){t("uGnK")},null,null);r.default=i.exports},uGnK:function(e,r){}});
//# sourceMappingURL=4.9532829f2af59bc1969b.js.map